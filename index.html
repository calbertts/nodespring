<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>NodeSpring by calbertts</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>NodeSpring</h1>
        <p>Dependency Injection for NodeJS using Javascript decorators</p>

        <div style="min-height: 450px;">
          <a href="#getStarted">Getting Started</a> <br/><br/>
          <a href="#controllers">Controllers</a> <br/>
          <a href="#decController">&nbsp;&nbsp; @Controller</a> <br/>
          <a href="#httpMethods">&nbsp;&nbsp;&nbsp;HTTP Methods</a> <br/><br/>

          <a href="#services">Services</a> <br/>
          <a href="#decService">&nbsp;&nbsp; @Service</a> <br/><br/>

          <a href="#dependencyInjection">Dependency Injection</a> <br/>
          <a href="#decInterface">&nbsp;&nbsp;&nbsp;@Interface</a> <br/>
          <a href="#decImplements">&nbsp;&nbsp;&nbsp;@Implements</a> <br/>
          <a href="#decInject">&nbsp;&nbsp;&nbsp;@Inject</a> <br/>
          <a href="#decPostInject">&nbsp;&nbsp;&nbsp;@PostInject</a> <br/><br/>

          <a href="#unitTesting">Unit Testing</a> <br/>
          <a href="#decTestClass">&nbsp;&nbsp;&nbsp;@TestClass</a> <br/>
          <a href="#decMock">&nbsp;&nbsp;&nbsp;@Mock</a> <br/>
          <a href="#decInjectMocks">&nbsp;&nbsp;&nbsp;@InjectMocks</a> <br/>
          <a href="#decBefore">&nbsp;&nbsp;&nbsp;@Before</a> <br/>
          <a href="#decTest">&nbsp;&nbsp;&nbsp;@Test</a> <br/>
        </div>
        <br />
        <p class="view"><a href="https://github.com/calbertts/nodespring">View the Project on GitHub <small>calbertts/nodespring</small></a></p>

        <ul>
          <li><a href="https://github.com/calbertts/nodespring/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/calbertts/nodespring/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/calbertts/nodespring">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h3>
          <a id="getStarted" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
          Getting started
        </h3>

        <h3>
          <a id="controllers" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
          Controllers
        </h3>

        <p>
          A Controller is a Javascript class where you define the end-points you have in your API.
          Controllers are used to handle the HTTP requests and call the service layer.
        </p>

        <h3>
        <a id="decController" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
          @Controller
        </h3>

        <p>This decorator expects a class to be used as a Controller</p>
        <pre class="prettyprint lang-js" style="padding: 15px; border: 1px solid #e5e5e5">import {Controller} from 'nodespring'

@Controller
export default class MyController {

  // Methods to handle the HTTP requests
}</pre>

        <p>When you create a Controller, an URL is automatically created: <a href="#">http://localhost:8080/MyController</a></p>
        <p>If you want to change the name used in the URL, you can do:</p>
        <pre class="prettyprint lang-js" style="padding: 15px; border: 1px solid #e5e5e5">
@Controller({path: 'users'})
export default class MyController {
  ...
}</pre>

        <p>Now we can access this controller in this way: <a href="#">http://localhost:8080/users</a></p>

        <h3>
        <a id="httpMethods" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
          HTTP Methods
        </h3>

        <p>
          Following, the decorators used to handle the common HTTP methods, they expect a method to be used as end-point and can be used only
          in a Controller class.
        </p>

        <pre class="prettyprint lang-js" style="padding: 15px; border: 1px solid #e5e5e5">import {Controller, Post, Get} from 'nodespring'

@Controller
export default class MyController {

  @Get
  getMessage() {
    return "Message from MyController"
  }

  @Post
  getGreet(name) {
    return "Hi " + name
  }
}</pre>
        <p>Also if you want to return a JSON or any other kind of contentType, you can do:</p>

        <pre class="prettyprint lang-js" style="padding: 15px; border: 1px solid #e5e5e5">
@Post({contentType: 'application/json'})
getJSONObject(id, name) {
  return {
    id: id,
    userName: name
  }
}</pre>

        <p>Each method is an end-point: </p>
        <a href="#">http://localhost:8080/MyController/getMessage</a>
        <a href="#">http://localhost:8080/MyController/getJSONObject</a>

        <br/><br/>

        <p>Also, there are decorators to the other HTTP methods: </p>
        <p><b>&nbsp;&nbsp;&nbsp;&nbsp;@Put, @Delete, @Update</b></p>

        <h3>
        <a id="services" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
          Services
        </h3>

        <p>
          A Service is a Javascript class where you define the methods to access to a specific module of your application, let's understand
          a module as a unit on your business logic, don't think on NodeJS modules, let's assume that a module is a set of NodeJS modules which
          have a specific responsibility.
          <br/><br/>
          These modules usually need to communicate each other, but isn't a good practice to call directly a module from other one, it's preferable
          to have a Service layer where this communication is defined.
        </p>

        <h3>
        <a id="decService" class="anchor" href="#" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>
          @Service
        </h3>

        <p>
          This decoractor expects a class to be used as a Service, all the services are <i>singleton</i>, it means, only one instance
          of this class is going to be created and shared through all the application.
          <br/><br/>
          Each time a Service is <a href="#dependencyInjection">injected</a>, the unique instance is used, that's why all the Services
          have to be <i>stateless</i>.
        </p>

        <pre class="prettyprint lang-js" style="padding: 15px; border: 1px solid #e5e5e5">import {Service} from 'nodespring'

@Service
export default class MyService {

  // Methods to communicate with the module
}</pre>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/calbertts">calbertts</a></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-74157601-1");
      pageTracker._trackPageview();
      } catch(err) {}
    </script>
    <script src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  </body>
</html>
