{"version":3,"sources":["../../src/decorators/sockets.js"],"names":[],"mappings":";;;;;QAUgB;;;;;;;;;;;;;;;;AAAT,SAAS,cAAT,GAA0B;;AAE/B,MAAI,kBAAkB,eAAK,OAAL,CAAa,yBAAe,QAAf,GAA0B,OAA1B,CAAkC,0BAAgB,MAAhB,EAAwB,EAA1D,EAA8D,OAA9D,CAAsE,KAAtE,EAA6E,EAA7E,CAAb,CAAlB,CAF2B;AAG/B,MAAI,UAAU,EAAV,CAH2B;;AAK/B,MAAI,oBAAoB,SAApB,iBAAoB,CAAC,MAAD,EAAS,QAAT,EAAmB,UAAnB,EAAkC;AACxD,QAAI,cAAc,kBAAkB,GAAlB,GAAwB,OAAO,WAAP,CAAmB,IAAnB,CADc;AAExD,WAAO,WAAP,GAAqB,WAArB,CAFwD;;AAIxD,8BAAgB,iBAAhB,CAAkC,MAAlC,EAA0C,QAA1C,EAAoD,OAApD,EAJwD;GAAlC,CALO;;AAY/B,MAAG,UAAU,MAAV,IAAoB,CAApB,EAAuB;AACxB,cAAU,UAAU,CAAV,CAAV,CADwB;;AAGxB,WAAO,iBAAP,CAHwB;GAA1B,MAIO;AACL,QAAI,SAAS,UAAU,CAAV,CAAT,CADC;AAEL,QAAI,WAAW,UAAU,CAAV,CAAX,CAFC;AAGL,QAAI,aAAa,UAAU,CAAV,CAAb,CAHC;;AAKL,sBAAkB,MAAlB,EAA0B,QAA1B,EAAoC,UAApC,EALK;GAJP;CAZK","file":"sockets.js","sourcesContent":["/**\n * Decorators for Socket events\n * @author calbertts\n */\n\nimport ModuleContainer from '../core/ModuleContainer'\nimport NodeSpringUtil from '../core/NodeSpringUtil'\nimport path from 'path'\n\n\nexport function SocketListener() {\n\n  let basePackagePath = path.dirname(NodeSpringUtil.getStack().replace(ModuleContainer.appDir, '').replace('.js', ''))\n  let options = {}\n\n  let addSocketListener = (target, property, descriptor) => {\n    let packagePath = basePackagePath + '/' + target.constructor.name\n    target.packagePath = packagePath\n\n    ModuleContainer.addSocketListener(target, property, options)\n  }\n\n  if(arguments.length <= 1) {\n    options = arguments[0]\n\n    return addSocketListener\n  } else {\n    let target = arguments[0]\n    let property = arguments[1]\n    let descriptor = arguments[2]\n\n    addSocketListener(target, property, descriptor)\n  }\n}"]}