{"version":3,"sources":["../../src/decorators/sockets.js"],"names":[],"mappings":";;;;;QAUgB,c,GAAA,c;;;;;;;;;;;;;;;;AAAT,SAAS,cAAT,GAA0B;;AAE/B,MAAI,kBAAkB,eAAK,OAAL,CAAa,yBAAe,QAAf,GAA0B,OAA1B,CAAkC,0BAAgB,MAAlD,EAA0D,EAA1D,EAA8D,OAA9D,CAAsE,KAAtE,EAA6E,EAA7E,CAAb,CAAtB;AACA,MAAI,UAAU,EAAd;;AAEA,MAAI,oBAAoB,SAApB,iBAAoB,CAAC,MAAD,EAAS,QAAT,EAAmB,UAAnB,EAAkC;AACxD,QAAI,cAAc,kBAAkB,GAAlB,GAAwB,OAAO,WAAP,CAAmB,IAA7D;AACA,WAAO,WAAP,GAAqB,WAArB;;AAEA,8BAAgB,iBAAhB,CAAkC,MAAlC,EAA0C,QAA1C,EAAoD,OAApD;AACD,GALD;;AAOA,MAAG,UAAU,MAAV,IAAoB,CAAvB,EAA0B;AACxB,cAAU,UAAU,CAAV,CAAV;;AAEA,WAAO,iBAAP;AACD,GAJD,MAIO;AACL,QAAI,SAAS,UAAU,CAAV,CAAb;AACA,QAAI,WAAW,UAAU,CAAV,CAAf;AACA,QAAI,aAAa,UAAU,CAAV,CAAjB;;AAEA,sBAAkB,MAAlB,EAA0B,QAA1B,EAAoC,UAApC;AACD;AACF,C","file":"sockets.js","sourcesContent":["/**\n * Decorators for Socket events\n * @author calbertts\n */\n\nimport ModuleContainer from '../core/ModuleContainer'\nimport NodeSpringUtil from '../core/NodeSpringUtil'\nimport path from 'path'\n\n\nexport function SocketListener() {\n\n  let basePackagePath = path.dirname(NodeSpringUtil.getStack().replace(ModuleContainer.appDir, '').replace('.js', ''))\n  let options = {}\n\n  let addSocketListener = (target, property, descriptor) => {\n    let packagePath = basePackagePath + '/' + target.constructor.name\n    target.packagePath = packagePath\n\n    ModuleContainer.addSocketListener(target, property, options)\n  }\n\n  if(arguments.length <= 1) {\n    options = arguments[0]\n\n    return addSocketListener\n  } else {\n    let target = arguments[0]\n    let property = arguments[1]\n    let descriptor = arguments[2]\n\n    addSocketListener(target, property, descriptor)\n  }\n}"]}