{"version":3,"sources":["../../src/core/assert.js"],"names":[],"mappings":"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","file":"assert.js","sourcesContent":["// http://wiki.commonjs.org/wiki/Unit_Testing/1.0\n//\n// THIS IS NOT TESTED NOR LIKELY TO WORK OUTSIDE V8!\n//\n// Originally from narwhal.js (http://narwhaljs.org)\n// Copyright (c) 2009 Thomas Robinson <280north.com>\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the 'Software'), to\n// deal in the Software without restriction, including without limitation the\n// rights to use, copy, modify, merge, publish, distribute, sublicense, and/or\n// sell copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED 'AS IS', WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN\n// ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION\n// WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// when used in node, this will actually load the util module we depend on\n// versus loading the builtin util module as happens otherwise\n// this is a bug in node module loading as far as I am concerned\nvar util = require('util/');\n\nvar pSlice = Array.prototype.slice;\nvar hasOwn = Object.prototype.hasOwnProperty;\n\n// 1. The assert module provides functions that throw\n// AssertionError's when particular conditions are not met. The\n// assert module must conform to the following interface.\n\nvar assert = module.exports = ok;\n\n// 2. The AssertionError is defined in assert.\n// new assert.AssertionError({ message: message,\n//                             actual: actual,\n//                             expected: expected })\n\nassert.AssertionError = function AssertionError(options) {\n  this.name = 'AssertionError';\n  this.actual = options.actual;\n  this.expected = options.expected;\n  this.operator = options.operator;\n  if (options.message) {\n    this.message = options.message;\n    this.generatedMessage = false;\n  } else {\n    this.message = getMessage(this);\n    this.generatedMessage = true;\n  }\n  var stackStartFunction = options.stackStartFunction || fail;\n\n  Error.stackTraceLimit = 2\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, stackStartFunction);\n  }\n  else {\n    // non v8 browsers so we can have a stacktrace\n    var err = new Error();\n    if (err.stack) {\n      var out = err.stack;\n\n      // try to strip useless frames\n      var fn_name = stackStartFunction.name;\n      var idx = out.indexOf('\\n' + fn_name);\n      if (idx >= 0) {\n        // once we have located the function frame\n        // we need to strip out everything before it (and its line)\n        var next_line = out.indexOf('\\n', idx + 1);\n        out = out.substring(next_line + 1);\n      }\n\n      this.stack = out;\n    }\n  }\n};\n\n// assert.AssertionError instanceof Error\nutil.inherits(assert.AssertionError, Error);\n\nfunction replacer(key, value) {\n  if (util.isUndefined(value)) {\n    return '' + value;\n  }\n  if (util.isNumber(value) && !isFinite(value)) {\n    return value.toString();\n  }\n  if (util.isFunction(value) || util.isRegExp(value)) {\n    return value.toString();\n  }\n  return value;\n}\n\nfunction truncate(s, n) {\n  if (util.isString(s)) {\n    return s.length < n ? s : s.slice(0, n);\n  } else {\n    return s;\n  }\n}\n\nfunction getMessage(self) {\n  return truncate(JSON.stringify(self.actual, replacer), 128) + ' ' +\n    self.operator + ' ' +\n    truncate(JSON.stringify(self.expected, replacer), 128);\n}\n\nassert.lastStack = null\nassert.throwOnFail = false\n\n// At present only the three keys mentioned above are used and\n// understood by the spec. Implementations or sub modules can pass\n// other keys to the AssertionError's constructor - they will be\n// ignored.\n\n// 3. All of the following functions must throw an AssertionError\n// when a corresponding condition is not met, with a message that\n// may be undefined if not provided.  All assertion methods provide\n// both the actual and expected values to the assertion error for\n// display purposes.\n\nfunction fail(actual, expected, message, operator, stackStartFunction) {\n  var error = new assert.AssertionError({\n    message: message,\n    actual: actual,\n    expected: expected,\n    operator: operator,\n    stackStartFunction: stackStartFunction\n  })\n\n  if(assert.throwOnFail) {\n    throw error\n  } else {\n    assert.lastStack = error.stack\n  }\n}\n\n// EXTENSION! allows for well behaved errors defined elsewhere.\nassert.fail = fail;\n\n// 4. Pure assertion tests whether a value is truthy, as determined\n// by !!guard.\n// assert.ok(guard, message_opt);\n// This statement is equivalent to assert.equal(true, !!guard,\n// message_opt);. To test strictly for the value true, use\n// assert.strictEqual(true, guard, message_opt);.\n\nfunction ok(value, message) {\n  if (!value) fail(value, true, message, '==', assert.ok);\n}\nassert.ok = ok;\n\n// 5. The equality assertion tests shallow, coercive equality with\n// ==.\n// assert.equal(actual, expected, message_opt);\n\nassert.equal = function equal(actual, expected, message) {\n  if (actual != expected) fail(actual, expected, message, '==', assert.equal);\n};\n\n// 6. The non-equality assertion tests for whether two objects are not equal\n// with != assert.notEqual(actual, expected, message_opt);\n\nassert.notEqual = function notEqual(actual, expected, message) {\n  if (actual == expected) {\n    fail(actual, expected, message, '!=', assert.notEqual);\n  }\n};\n\n// 7. The equivalence assertion tests a deep equality relation.\n// assert.deepEqual(actual, expected, message_opt);\n\nassert.deepEqual = function deepEqual(actual, expected, message) {\n  if (!_deepEqual(actual, expected)) {\n    fail(actual, expected, message, 'deepEqual', assert.deepEqual);\n  }\n};\n\nfunction _deepEqual(actual, expected) {\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (util.isBuffer(actual) && util.isBuffer(expected)) {\n    if (actual.length != expected.length) return false;\n\n    for (var i = 0; i < actual.length; i++) {\n      if (actual[i] !== expected[i]) return false;\n    }\n\n    return true;\n\n    // 7.2. If the expected value is a Date object, the actual value is\n    // equivalent if it is also a Date object that refers to the same time.\n  } else if (util.isDate(actual) && util.isDate(expected)) {\n    return actual.getTime() === expected.getTime();\n\n    // 7.3 If the expected value is a RegExp object, the actual value is\n    // equivalent if it is also a RegExp object with the same source and\n    // properties (`global`, `multiline`, `lastIndex`, `ignoreCase`).\n  } else if (util.isRegExp(actual) && util.isRegExp(expected)) {\n    return actual.source === expected.source &&\n      actual.global === expected.global &&\n      actual.multiline === expected.multiline &&\n      actual.lastIndex === expected.lastIndex &&\n      actual.ignoreCase === expected.ignoreCase;\n\n    // 7.4. Other pairs that do not both pass typeof value == 'object',\n    // equivalence is determined by ==.\n  } else if (!util.isObject(actual) && !util.isObject(expected)) {\n    return actual == expected;\n\n    // 7.5 For all other Object pairs, including Array objects, equivalence is\n    // determined by having the same number of owned properties (as verified\n    // with Object.prototype.hasOwnProperty.call), the same set of keys\n    // (although not necessarily the same order), equivalent values for every\n    // corresponding key, and an identical 'prototype' property. Note: this\n    // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected);\n  }\n}\n\nfunction isArguments(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n}\n\nfunction objEquiv(a, b) {\n  if (util.isNullOrUndefined(a) || util.isNullOrUndefined(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  // if one is a primitive, the other must be same\n  if (util.isPrimitive(a) || util.isPrimitive(b)) {\n    return a === b;\n  }\n  var aIsArgs = isArguments(a),\n    bIsArgs = isArguments(b);\n  if ((aIsArgs && !bIsArgs) || (!aIsArgs && bIsArgs))\n    return false;\n  if (aIsArgs) {\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return _deepEqual(a, b);\n  }\n  var ka = objectKeys(a),\n    kb = objectKeys(b),\n    key, i;\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!_deepEqual(a[key], b[key])) return false;\n  }\n  return true;\n}\n\n// 8. The non-equivalence assertion tests for any deep inequality.\n// assert.notDeepEqual(actual, expected, message_opt);\n\nassert.notDeepEqual = function notDeepEqual(actual, expected, message) {\n  if (_deepEqual(actual, expected)) {\n    fail(actual, expected, message, 'notDeepEqual', assert.notDeepEqual);\n  }\n};\n\n// 9. The strict equality assertion tests strict equality, as determined by ===.\n// assert.strictEqual(actual, expected, message_opt);\n\nassert.strictEqual = function strictEqual(actual, expected, message) {\n  if (actual !== expected) {\n    fail(actual, expected, message, '===', assert.strictEqual);\n  }\n};\n\n// 10. The strict non-equality assertion tests for strict inequality, as\n// determined by !==.  assert.notStrictEqual(actual, expected, message_opt);\n\nassert.notStrictEqual = function notStrictEqual(actual, expected, message) {\n  if (actual === expected) {\n    fail(actual, expected, message, '!==', assert.notStrictEqual);\n  }\n};\n\nfunction expectedException(actual, expected) {\n  if (!actual || !expected) {\n    return false;\n  }\n\n  if (Object.prototype.toString.call(expected) == '[object RegExp]') {\n    return expected.test(actual);\n  } else if (actual instanceof expected) {\n    return true;\n  } else if (expected.call({}, actual) === true) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction _throws(shouldThrow, block, expected, message) {\n  var actual;\n\n  if (util.isString(expected)) {\n    message = expected;\n    expected = null;\n  }\n\n  try {\n    block();\n  } catch (e) {\n    actual = e;\n  }\n\n  message = (expected && expected.name ? ' (' + expected.name + ').' : '.') +\n    (message ? ' ' + message : '.');\n\n  if (shouldThrow && !actual) {\n    fail(actual, expected, 'Missing expected exception' + message);\n  }\n\n  if (!shouldThrow && expectedException(actual, expected)) {\n    fail(actual, expected, 'Got unwanted exception' + message);\n  }\n\n  if ((shouldThrow && actual && expected &&\n    !expectedException(actual, expected)) || (!shouldThrow && actual)) {\n    throw actual;\n  }\n}\n\n// 11. Expected to throw an error:\n// assert.throws(block, Error_opt, message_opt);\n\nassert.throws = function(block, /*optional*/error, /*optional*/message) {\n  _throws.apply(this, [true].concat(pSlice.call(arguments)));\n};\n\n// EXTENSION! This is annoying to write outside this module.\nassert.doesNotThrow = function(block, /*optional*/message) {\n  _throws.apply(this, [false].concat(pSlice.call(arguments)));\n};\n\nassert.ifError = function(err) { if (err) {throw err;}};\n\nvar objectKeys = Object.keys || function (obj) {\n    var keys = [];\n    for (var key in obj) {\n      if (hasOwn.call(obj, key)) keys.push(key);\n    }\n    return keys;\n  };\n"]}